{"version":3,"sources":["components/ExamplePlayer.js","components/ChapterPlayer.js","components/BookPlayer.js","lib/unmute.js","App.js","reportWebVitals.js","index.js"],"names":["ExamplePlayer","props","handleKeyPress","e","key","midi","midiRef","current","playing","stop","start","decreaseTempo","tempo","state","Math","max","setState","increaseTempo","min","React","createRef","window","addEventListener","this","removeEventListener","Button","onClick","prev","variant","item","name","next","ref","src","baseUrl","sound-font","mp3","controls","toFixed","image","alt","Component","ChapterPlayer","selectPreviousItem","index","selectNextItem","chapter","examples","length","BookPlayer","useState","setIndex","exampleIndex","setExampleIndex","book","chapters","Accordion","style","cursor","map","data","idx","Card","Toggle","as","Header","eventKey","Collapse","ListGroup","ex","idx2","Item","ch","selectItem","unmute","context","pageVisibilityAPI","undefined","document","hidden","visibilitychange","webkitHidden","mozHidden","msHidden","tag","ua","navigator","userAgent","toLowerCase","isIOS","indexOf","isPageActive","isPageVisible","iosIsPageFocused","suspendAudio","audioUnlockingEvents","contextUnlockingEnabled","tagUnlockingEnabled","tagPendingChange","contextStateCheck","tryResuming","toggleContextUnlocking","suspend","then","context_promiseHandler","resume","enable","_i","audioUnlockingEvents_1","evt","context_unlockingEvent","capture","passive","tagStateCheck","tryChange","paused","toggleTagUnlocking","p","play","tag_promiseHandler","err","pause","audioUnlockingEvents_2","tag_unlockingEvent","pageStateCheck","doc_visChange","win_focusChange","target","hasFocus","poorManHuffman","c","a","tmp","createElement","innerHTML","children","disableRemotePlayback","preload","loop","load","onstatechange","App","content","setContent","useEffect","URLSearchParams","location","search","get","fetch","headers","response","json","getData","AudioContext","webkitAudioContext","Container","fluid","Navbar","bg","expand","Brand","href","aria-controls","id","Nav","className","NavDropdown","title","Row","class","Col","md","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b4963ca7.chunk.js","sourcesContent":["import React from 'react';\nimport { Button } from 'react-bootstrap';\n\nexport default class ExamplePlayer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.midiRef = React.createRef()\n    this.state = {\n      tempo: 1\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  componentDidUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key===\" \") {\n      const midi = this.midiRef.current\n      midi.playing\n      ? midi.stop()\n      : midi.start()\n    }\n  }\n\n  decreaseTempo = () => {\n    var tempo = this.state.tempo;\n    tempo = Math.max(0.1, tempo - 0.1);\n    this.setState({\n      tempo: tempo\n    })\n  }\n\n  increaseTempo = () => {\n    var tempo = this.state.tempo;\n    tempo = Math.min(5.0, tempo + 0.1);\n    this.setState({\n      tempo: tempo\n    })\n  }\n\n  render() {\n    return (\n      <>\n          <p>\n            <Button onClick={this.props.prev} variant=\"light\">﹤</Button>\n            {this.props.item.name}\n            <Button onClick={this.props.next} variant=\"light\">﹥</Button>\n          </p>\n          <p>\n            {this.props.item.midi\n              ? <midi-player\n                  ref={this.midiRef}\n                  src={this.props.baseUrl + this.props.item.midi}\n                  sound-font=\"https://storage.googleapis.com/magentadata/js/soundfonts/sgm_plus\"\n                />\n              : \"\"\n            }\n            {this.props.item.mp3\n              ? <audio \n                  src={this.props.baseUrl + this.props.item.mp3}                   \n                  controls\n                />\n              : \"\"\n            }\n          </p>\n          <p>\n            Tempo:\n            <Button onClick={this.decreaseTempo} variant=\"light\">-</Button>\n            {this.state.tempo.toFixed(1)}x\n            <Button onClick={this.increaseTempo} variant=\"light\">+</Button>\n            (Feature is a WIP)\n          </p>\n          <p>\n            <img src={this.props.baseUrl + this.props.item.image} alt=\"Musical example\"/>\n          </p>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ExamplePlayer from './ExamplePlayer.js';\nimport { Button } from 'react-bootstrap';\n\nexport default class ChapterPlayer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      index: 0\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  componentDidUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  selectPreviousItem = () => {\n    if (this.state.index > 0) {\n      this.setState({\n        index:this.state.index - 1\n      })\n    }\n  }\n\n  selectNextItem = () => {\n    if (this.state.index + 1 < this.props.chapter.examples.length) {\n      this.setState({\n        index:this.state.index + 1\n      })\n    }\n  }\n\n  handleKeyPress = (e) => {\n    if (e.key===\"ArrowLeft\") {\n      this.selectPreviousItem()\n    } else if (e.key===\"ArrowRight\") {\n      this.selectNextItem()\n    } else if (e.key===\"ArrowUp\") {\n      this.setState({\n        index:0\n      })\n      this.props.next()\n    } else if (e.key===\"ArrowDown\") {\n      this.setState({\n        index:0\n      })\n      this.props.prev()\n    }\n  }\n\n  render() {\n    return (\n    <>\n      <h3>\n          <Button onClick={this.props.prev} variant=\"light\">﹤</Button>\n          {this.props.chapter.name}\n          <Button onClick={this.props.next} variant=\"light\">﹥</Button>\n      </h3>\n      <ExamplePlayer\n        item={this.props.chapter.examples[this.state.index]}\n        baseUrl={`${this.props.baseUrl}${this.props.chapter.name}/`}\n        prev={this.selectPreviousItem}\n        next={this.selectNextItem}\n      />\n    </>\n  );\n  }\n}\n","import React, { useState } from 'react';\nimport ChapterPlayer from './ChapterPlayer.js';\nimport { Accordion, Card, ListGroup } from 'react-bootstrap';\n\nexport default function BookPlayer(props) {\n  const [index, setIndex] = useState(0)\n  const [exampleIndex, setExampleIndex] = useState(0)\n\n  const selectPreviousItem = () => {\n    if (index > 0) {\n      setIndex(index - 1);\n    }\n  }\n\n  const selectNextItem = () => {\n    if (index + 1 < props.book.chapters.length) {\n      setIndex(index + 1);\n    }\n  }\n\n  const selectItem = (ch, ex) => {\n    setIndex(ch)\n    setExampleIndex(ex)\n  }\n\n  return (\n    <>\n      <h1>{props.book.name}</h1>\n      <ChapterPlayer\n        chapter={props.book.chapters[index]}\n        baseUrl={props.book.baseUrl}\n        exampleIndex={exampleIndex}\n        prev={selectPreviousItem}\n        next={selectNextItem}\n      />\n      <Accordion style={{cursor: 'pointer'}}>\n        {\n          props.book.chapters.map( (data, idx) => {\n            return  <Card>\n                      <Accordion.Toggle as={Card.Header} variant=\"link\" eventKey={idx+1}>\n                        {data.name}\n                      </Accordion.Toggle>\n                      <Accordion.Collapse eventKey={idx+1}>\n                      <ListGroup>\n                      {\n                        data.examples.map( (ex, idx2) => {\n                          return <ListGroup.Item onClick={() => {selectItem(idx, idx2)}}>{ex.name}</ListGroup.Item>\n                        })\n                      }\n                      </ListGroup>\n                      </Accordion.Collapse>\n                    </Card>\n          })\n        }\n      </Accordion>\n    </>\n  );\n}\n","/**\n * @file unmute.ts\n * @author Spencer Evans evans.spencer@gmail.com\n * unmute is a disgusting hack that helps..\n * \t1) automatically resume web audio contexts on user interaction\n * \t2) ios only: web audio play on the media channel rather than the ringer channel\n * \t3) ios only: disable the media playback widget and airplay.\n * \t4) automatically pause and resume web audio when the page is hidden.\n * Auto resuming works by checking context state and calling resume during any resumable event.\n * Media channel playback and media widget disabling work by playing an airplay-disabled silent html audio track in the background.\n * Automatic pausing when the page is hidden is supported by both the page visibility api AND blur events because ios has a poor implementation of the page visibility api.\n * This is all really gross and apple should really fix their janky browser.\n * This code isn't optimized in any fashion, it is just whipped up to help someone out on stack overflow, its just meant as an example.\n */\n/**\n * Enables unmute.\n * @param context A reference to the web audio context to \"unmute\".\n */\nexport default function unmute(context) {\n    var pageVisibilityAPI;\n    if (document.hidden !== undefined)\n        pageVisibilityAPI = { hidden: \"hidden\", visibilitychange: \"visibilitychange\" };\n    else if (document.webkitHidden !== undefined)\n        pageVisibilityAPI = { hidden: \"webkitHidden\", visibilitychange: \"webkitvisibilitychange\" };\n    else if (document.mozHidden !== undefined)\n        pageVisibilityAPI = { hidden: \"mozHidden\", visibilitychange: \"mozvisibilitychange\" };\n    else if (document.msHidden !== undefined)\n        pageVisibilityAPI = { hidden: \"msHidden\", visibilitychange: \"msvisibilitychange\" };\n    // Determine if ios\n    var ua = navigator.userAgent.toLowerCase();\n    // eslint-disable-next-line\n    var isIOS = (ua.indexOf(\"iphone\") >= 0 && ua.indexOf(\"like iphone\") < 0 || ua.indexOf(\"ipad\") >= 0 && ua.indexOf(\"like ipad\") < 0 || ua.indexOf(\"ipod\") >= 0 && ua.indexOf(\"like ipod\") < 0);\n    // Track page state\n    var isPageActive = true;\n    var isPageVisible = true;\n    var iosIsPageFocused = true; // iOS has a buggy page visibility API, luckily it dispatches blur and focus events on the window when vis change events should fire.\n    // Track desired audio state\n    var suspendAudio = false;\n    var audioUnlockingEvents = [\"click\", \"contextmenu\", \"auxclick\", \"dblclick\", \"mousedown\", \"mouseup\", \"touchend\", \"keydown\", \"keyup\"];\n    // Track web audio state\n    var contextUnlockingEnabled = false;\n    // Track html audio state\n    var tag;\n    var tagUnlockingEnabled = false;\n    var tagPendingChange = false;\n    function contextStateCheck(tryResuming) {\n        if (context.state === \"running\") {\n            // No need to watch for unlocking events while running\n            toggleContextUnlocking(false);\n            // Check if our state matches\n            if (suspendAudio) {\n                // We want to be suspended, we can suspend at any time\n                context.suspend().then(context_promiseHandler, context_promiseHandler);\n            }\n        }\n        else if (context.state !== \"closed\") {\n            // Interrupted or suspended, check if our state matches\n            if (!suspendAudio) {\n                // We want to be running\n                toggleContextUnlocking(true);\n                if (tryResuming)\n                    context.resume().then(context_promiseHandler, context_promiseHandler);\n            }\n            else {\n                // We don't want to be running, so no need to watch for unlocking events\n                toggleContextUnlocking(false);\n            }\n        }\n    }\n    function toggleContextUnlocking(enable) {\n        if (contextUnlockingEnabled === enable)\n            return;\n        contextUnlockingEnabled = enable;\n        for (var _i = 0, audioUnlockingEvents_1 = audioUnlockingEvents; _i < audioUnlockingEvents_1.length; _i++) {\n            var evt = audioUnlockingEvents_1[_i];\n            if (enable)\n                window.addEventListener(evt, context_unlockingEvent, { capture: true, passive: true });\n            else\n                window.removeEventListener(evt, context_unlockingEvent, { capture: true, passive: true });\n        }\n    }\n    function context_statechange() {\n        contextStateCheck(true);\n    }\n    function context_promiseHandler() {\n        contextStateCheck(false);\n    }\n    function context_unlockingEvent() {\n        contextStateCheck(true);\n    }\n    function tagStateCheck(tryChange) {\n        // We have a pending state change, let that resolve first\n        if (tagPendingChange)\n            return;\n        if (!tag.paused) {\n            // No need to watch for unlocking events while running\n            toggleTagUnlocking(false);\n            // Check if our state matches\n            if (suspendAudio) {\n                // We want to be suspended, we can suspend at any time\n                tag.pause(); // instant action, so no need to set as pending\n            }\n        }\n        else {\n            // Tag isn't playing, check if our state matches\n            if (!suspendAudio) {\n                // We want to be running\n                if (tryChange) {\n                    // Try forcing a change, so stop watching for unlocking events while attempt is in progress\n                    toggleTagUnlocking(false);\n                    // Attempt to play\n                    tagPendingChange = true;\n                    var p = void 0;\n                    try {\n                        p = tag.play();\n                        if (p)\n                            p.then(tag_promiseHandler, tag_promiseHandler);\n                        else {\n                            tag.addEventListener(\"playing\", tag_promiseHandler);\n                            tag.addEventListener(\"abort\", tag_promiseHandler);\n                            tag.addEventListener(\"error\", tag_promiseHandler);\n                        }\n                    }\n                    catch (err) {\n                        tag_promiseHandler();\n                    }\n                }\n                else {\n                    // We're not going to try resuming this time, but make sure unlocking events are enabled\n                    toggleTagUnlocking(true);\n                }\n            }\n            else {\n                // We don't want to be running, so no need to watch for unlocking events\n                toggleTagUnlocking(false);\n            }\n        }\n    }\n    function toggleTagUnlocking(enable) {\n        if (tagUnlockingEnabled === enable)\n            return;\n        tagUnlockingEnabled = enable;\n        for (var _i = 0, audioUnlockingEvents_2 = audioUnlockingEvents; _i < audioUnlockingEvents_2.length; _i++) {\n            var evt = audioUnlockingEvents_2[_i];\n            if (enable)\n                window.addEventListener(evt, tag_unlockingEvent, { capture: true, passive: true });\n            else\n                window.removeEventListener(evt, tag_unlockingEvent, { capture: true, passive: true });\n        }\n    }\n    function tag_promiseHandler() {\n        tag.removeEventListener(\"playing\", tag_promiseHandler);\n        tag.removeEventListener(\"abort\", tag_promiseHandler);\n        tag.removeEventListener(\"error\", tag_promiseHandler);\n        // Tag started playing, so we're not suspended\n        tagPendingChange = false;\n        tagStateCheck(false);\n    }\n    function tag_unlockingEvent() {\n        tagStateCheck(true);\n    }\n    /**\n     * Called when the page becomes active.\n     */\n    function pageActivated() {\n        suspendAudio = false;\n        if (tag)\n            tagStateCheck(true); // tag first to ensure media channel start first\n        contextStateCheck(true);\n    }\n    /**\n     * Called when the page becomes inactive.\n     */\n    function pageDeactivated() {\n        suspendAudio = true;\n        contextStateCheck(true); // context first to be sure it stops before the tag\n        if (tag)\n            tagStateCheck(true);\n    }\n    /**\n     * Updates page active state.\n     */\n    function pageStateCheck() {\n        if (isPageVisible && iosIsPageFocused) {\n            if (!isPageActive) {\n                isPageActive = true;\n                pageActivated();\n            }\n        }\n        else {\n            if (isPageActive) {\n                isPageActive = false;\n                pageDeactivated();\n            }\n        }\n    }\n    /**\n     * Handle visibility api events.\n     */\n    function doc_visChange() {\n        if (pageVisibilityAPI) {\n            if (document[pageVisibilityAPI.hidden] === isPageActive) {\n                isPageVisible = !document[pageVisibilityAPI.hidden];\n                pageStateCheck();\n            }\n        }\n    }\n    /**\n     * Handles blur events (ios only).\n     */\n    function win_focusChange(evt) {\n        if (evt && evt.target !== window)\n            return;\n        if (document.hasFocus()) {\n            if (iosIsPageFocused)\n                return;\n            iosIsPageFocused = true;\n            pageStateCheck();\n        }\n        else {\n            if (!iosIsPageFocused)\n                return;\n            iosIsPageFocused = false;\n            pageStateCheck();\n        }\n    }\n    /**\n     * A utility function for decompressing the base64 silence string.\n     * @param c The number of times the string is repeated in the string segment.\n     * @param a The string to repeat.\n     */\n    function poorManHuffman(c, a) { var e; for (e = a; c > 1; c--)\n        e += a; return e; }\n    // Watch for tag state changes and check initial state\n    if (isIOS) {\n        // Is ios, we need to play an html track in the background and disable the widget\n        // NOTE: media widget / airplay MUST be disabled with this super gross hack to create the audio tag, setting the attribute in js doesn't work\n        var tmp = document.createElement(\"div\");\n        tmp.innerHTML = \"<audio x-webkit-airplay='deny'></audio>\";\n        tag = tmp.children.item(0);\n        tag.controls = false;\n        tag.disableRemotePlayback = true; // Airplay like controls on other devices, prevents casting of the tag\n        tag.preload = \"auto\";\n        // Set the src to a short bit of url encoded as a silent mp3\n        // NOTE The silence MP3 must be high quality, when web audio sounds are played in parallel the web audio sound is mixed to match the bitrate of the html sound\n        // 0.01 seconds of silence VBR220-260 Joint Stereo 859B\n        //tag.src = \"data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==\";\n        // The str below is a \"compressed\" version using poor mans huffman encoding, saves about 0.5kb\n        tag.src = \"data:audio/mpeg;base64,//uQx\" + poorManHuffman(23, \"A\") + \"WGluZwAAAA8AAAACAAACcQCA\" + poorManHuffman(16, \"gICA\") + poorManHuffman(66, \"/\") + \"8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI\" + poorManHuffman(320, \"A\") + \"//sQxAADgnABGiAAQBCqgCRMAAgEAH\" + poorManHuffman(15, \"/\") + \"7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq\" + poorManHuffman(18, \"/\") + \"9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw\" + poorManHuffman(97, \"V\") + \"Q==\";\n        tag.loop = true;\n        tag.load();\n        // Try to play right off the bat\n        tagStateCheck(true);\n    }\n    // Watch for context state changes and check initial state\n    context.onstatechange = context_statechange; // NOTE: the onstatechange callback property is more widely supported than the statechange event\tcontext.addEventListener(\"statechange\", context_statechange);\n    contextStateCheck(false);\n    // Watch for page state changes and check initial page state\n    if (pageVisibilityAPI)\n        document.addEventListener(pageVisibilityAPI.visibilitychange, doc_visChange, true);\n    if (isIOS) {\n        // Watch for blur / focus events on ios because it doesn't dispatch vis change events properly\n        window.addEventListener(\"focus\", win_focusChange, true);\n        window.addEventListener(\"blur\", win_focusChange, true);\n    }\n    doc_visChange();\n    win_focusChange();\n}\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport BookPlayer from './components/BookPlayer.js';\nimport { Col, Container, Nav, Navbar, NavDropdown, Row } from 'react-bootstrap';\nimport unmute from './lib/unmute'\n\nfunction App() {\n\tconst [content, setContent] = useState(null)\n\n  const getData = () => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const book = urlParams.get('book')\n    fetch(\n      `https://music-ed.s3.us-east-2.amazonaws.com/${book}.json` ,{\n      headers : {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n        }\n    })\n    .then(response => response.json())\n    .then(function(response) {\n      setContent(response);\n    });\n  }\n\n  const books = [\n    'Applied Counterpoint',\n    'Contemporary Harmony',\n    'Creative Orchestration',\n    'Elementary Counterpoint',\n    'Musical Composition Craft And Art',\n    'Structural Functions Of Harmony',\n    'Twentieth Century Harmony',\n    'Modulation',\n    'Brahms And The Principle Of Developing Variation',\n    'The Shaping Forces In Music',\n    'Fundamentals Of Musical Composition',\n    'Japanese Music Harmony Vol1',\n    'Latin Jazz Piano',\n    'Play Latin Piano Like A Pro',\n    'Jazz Piano The Left Hand',\n  ]\n\n  useEffect(()=>{\n    getData()\n    let context = (window.AudioContext || window.webkitAudioContext)\n    ? new (window.AudioContext || window.webkitAudioContext)()\n    : null;\n    // Pass it to unmute if the context exists... ie WebAudio is supported\n    if (context) unmute(context);\n  },[])\n\n  return (\n    <Container fluid>\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Navbar.Brand href=\"#home\">Music Ed</Navbar.Brand>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <NavDropdown title=\"Books\" id=\"basic-nav-dropdown\">\n              {\n                books.map( book => {\n                  return <NavDropdown.Item href={`?book=${book}`}>{book}</NavDropdown.Item>\n                })\n              }\n            </NavDropdown>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <Row class=\"text-center\">\n        <Col md=\"auto\">\n        {\n          content\n            ? <>\n              <BookPlayer\n                book={content}\n              />\n              </>\n            : \"Pick a book\"\n        }\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}