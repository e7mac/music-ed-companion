(this["webpackJsonpmusic-companion-app"]=this["webpackJsonpmusic-companion-app"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(13),s=n.n(o),r=(n(43),n(21)),c=(n(44),n(22)),d=n(23),l=n(31),u=n(30),p=n(36),h=n(3),m=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).handleKeyPress=function(e){if(" "===e.key){var t=i.midiRef.current;t.playing?t.stop():t.start()}},i.decreaseTempo=function(){var e=i.state.tempo;e=Math.max(.1,e-.1),i.setState({tempo:e})},i.increaseTempo=function(){var e=i.state.tempo;e=Math.min(5,e+.1),i.setState({tempo:e})},i.midiRef=a.a.createRef(),i.state={tempo:1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentDidUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("p",{children:[Object(h.jsx)(p.a,{onClick:this.props.prev,variant:"light",children:"\ufe64"}),this.props.item.name,Object(h.jsx)(p.a,{onClick:this.props.next,variant:"light",children:"\ufe65"})]}),Object(h.jsxs)("p",{children:[this.props.item.midi?Object(h.jsx)("midi-player",{ref:this.midiRef,src:this.props.baseUrl+this.props.item.midi,"sound-font":"https://storage.googleapis.com/magentadata/js/soundfonts/sgm_plus"}):"",this.props.item.mp3?Object(h.jsx)("audio",{src:this.props.baseUrl+this.props.item.mp3,controls:!0}):""]}),Object(h.jsxs)("p",{children:["Tempo:",Object(h.jsx)(p.a,{onClick:this.decreaseTempo,variant:"light",children:"-"}),this.state.tempo.toFixed(1),"x",Object(h.jsx)(p.a,{onClick:this.increaseTempo,variant:"light",children:"+"}),"(Feature is a WIP)"]}),Object(h.jsx)("p",{children:Object(h.jsx)("img",{src:this.props.baseUrl+this.props.item.image,alt:"Musical example"})})]})}}]),n}(a.a.Component),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).selectPreviousItem=function(){i.state.index>0&&i.setState({index:i.state.index-1})},i.selectNextItem=function(){i.state.index+1<i.props.chapter.examples.length&&i.setState({index:i.state.index+1})},i.handleKeyPress=function(e){"ArrowLeft"===e.key?i.selectPreviousItem():"ArrowRight"===e.key?i.selectNextItem():"ArrowUp"===e.key?(i.setState({index:0}),i.props.next()):"ArrowDown"===e.key&&(i.setState({index:0}),i.props.prev())},i.state={index:0},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentDidUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{children:[Object(h.jsx)(p.a,{onClick:this.props.prev,variant:"light",children:"\ufe64"}),this.props.chapter.name,Object(h.jsx)(p.a,{onClick:this.props.next,variant:"light",children:"\ufe65"})]}),Object(h.jsx)(m,{item:this.props.chapter.examples[this.state.index],baseUrl:"".concat(this.props.baseUrl).concat(this.props.chapter.name,"/"),prev:this.selectPreviousItem,next:this.selectNextItem})]})}}]),n}(a.a.Component),j=n(60),v=n(62),f=n(63);function x(e){var t=Object(i.useState)(0),n=Object(r.a)(t,2),a=n[0],o=n[1],s=Object(i.useState)(0),c=Object(r.a)(s,2),d=c[0],l=c[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:e.book.name}),Object(h.jsx)(b,{chapter:e.book.chapters[a],baseUrl:e.book.baseUrl,exampleIndex:d,prev:function(){a>0&&o(a-1)},next:function(){a+1<e.book.chapters.length&&o(a+1)}}),Object(h.jsx)(j.a,{style:{cursor:"pointer"},children:e.book.chapters.map((function(e,t){return Object(h.jsxs)(v.a,{children:[Object(h.jsx)(j.a.Toggle,{as:v.a.Header,variant:"link",eventKey:t+1,children:e.name}),Object(h.jsx)(j.a.Collapse,{eventKey:t+1,children:Object(h.jsx)(f.a,{children:e.examples.map((function(e,n){return Object(h.jsx)(f.a.Item,{onClick:function(){!function(e,t){o(e),l(t)}(t,n)},children:e.name})}))})})]})}))})]})}var A=n(56),O=n(61),g=n(64),w=n(59),k=n(57),y=n(58);function C(e){var t;void 0!==document.hidden?t={hidden:"hidden",visibilitychange:"visibilitychange"}:void 0!==document.webkitHidden?t={hidden:"webkitHidden",visibilitychange:"webkitvisibilitychange"}:void 0!==document.mozHidden?t={hidden:"mozHidden",visibilitychange:"mozvisibilitychange"}:void 0!==document.msHidden&&(t={hidden:"msHidden",visibilitychange:"msvisibilitychange"});var n,i=navigator.userAgent.toLowerCase(),a=i.indexOf("iphone")>=0&&i.indexOf("like iphone")<0||i.indexOf("ipad")>=0&&i.indexOf("like ipad")<0||i.indexOf("ipod")>=0&&i.indexOf("like ipod")<0,o=!0,s=!0,r=!0,c=!1,d=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"],l=!1,u=!1,p=!1;function h(t){"running"===e.state?(m(!1),c&&e.suspend().then(b,b)):"closed"!==e.state&&(c?m(!1):(m(!0),t&&e.resume().then(b,b)))}function m(e){if(l!==e){l=e;for(var t=0,n=d;t<n.length;t++){var i=n[t];e?window.addEventListener(i,j,{capture:!0,passive:!0}):window.removeEventListener(i,j,{capture:!0,passive:!0})}}}function b(){h(!1)}function j(){h(!0)}function v(e){if(!p)if(n.paused)if(c)f(!1);else if(e){f(!1),p=!0;var t=void 0;try{(t=n.play())?t.then(x,x):(n.addEventListener("playing",x),n.addEventListener("abort",x),n.addEventListener("error",x))}catch(i){x()}}else f(!0);else f(!1),c&&n.pause()}function f(e){if(u!==e){u=e;for(var t=0,n=d;t<n.length;t++){var i=n[t];e?window.addEventListener(i,A,{capture:!0,passive:!0}):window.removeEventListener(i,A,{capture:!0,passive:!0})}}}function x(){n.removeEventListener("playing",x),n.removeEventListener("abort",x),n.removeEventListener("error",x),p=!1,v(!1)}function A(){v(!0)}function O(){s&&r?o||(o=!0,c=!1,n&&v(!0),h(!0)):o&&(o=!1,c=!0,h(!0),n&&v(!0))}function g(){t&&document[t.hidden]===o&&(s=!document[t.hidden],O())}function w(e){if(!e||e.target===window)if(document.hasFocus()){if(r)return;r=!0,O()}else{if(!r)return;r=!1,O()}}function k(e,t){var n;for(n=t;e>1;e--)n+=t;return n}if(a){var y=document.createElement("div");y.innerHTML="<audio x-webkit-airplay='deny'></audio>",(n=y.children.item(0)).controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.src="data:audio/mpeg;base64,//uQx"+k(23,"A")+"WGluZwAAAA8AAAACAAACcQCA"+k(16,"gICA")+k(66,"/")+"8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI"+k(320,"A")+"//sQxAADgnABGiAAQBCqgCRMAAgEAH"+k(15,"/")+"7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq"+k(18,"/")+"9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw"+k(97,"V")+"Q==",n.loop=!0,n.load(),v(!0)}e.onstatechange=function(){h(!0)},h(!1),t&&document.addEventListener(t.visibilitychange,g,!0),a&&(window.addEventListener("focus",w,!0),window.addEventListener("blur",w,!0)),g(),w()}var L=function(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){!function(){var e=new URLSearchParams(window.location.search).get("book");fetch("https://music-ed.s3.us-east-2.amazonaws.com/".concat(e,".json"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e)}))}();var e=window.AudioContext||window.webkitAudioContext?new(window.AudioContext||window.webkitAudioContext):null;e&&C(e)}),[]),Object(h.jsxs)(A.a,{fluid:!0,children:[Object(h.jsxs)(O.a,{bg:"light",expand:"lg",children:[Object(h.jsx)(O.a.Brand,{href:"#home",children:"Music Ed"}),Object(h.jsx)(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(O.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsx)(g.a,{className:"mr-auto",children:Object(h.jsx)(w.a,{title:"Books",id:"basic-nav-dropdown",children:["Applied Counterpoint","Contemporary Harmony","Creative Orchestration","Elementary Counterpoint","Musical Composition Craft And Art","Structural Functions Of Harmony","Twentieth Century Harmony","Modulation","Brahms And The Principle Of Developing Variation","The Shaping Forces In Music","Fundamentals Of Musical Composition","Japanese Music Harmony Vol1","Latin Jazz Piano","Play Latin Piano Like A Pro","Jazz Piano The Left Hand"].map((function(e){return Object(h.jsx)(w.a.Item,{href:"?book=".concat(e),children:e})}))})})})]}),Object(h.jsx)(k.a,{class:"text-center",children:Object(h.jsx)(y.a,{md:"auto",children:n?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(x,{book:n})}):"Pick a book"})})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),o(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root")),E()}},[[51,1,2]]]);
//# sourceMappingURL=main.b4963ca7.chunk.js.map